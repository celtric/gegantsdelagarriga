import RacoGeganter from "../../components/RacoGeganter";
import { racoGeganterPages } from "../../data";
import { Alert, Box, Grid, ImageListItem, ImageListItemBar, Link } from "@mui/material";
import { AlertTitle } from "@mui/lab";
import FullSizeImage from "../../components/FullSizeImage";
import Image from "next/image";
import NextLink from "next/link";
import EmbeddedImage from "../../components/EmbeddedImage";
import Mussolet3D from "../../public/mussolet-3d.jpg";
import GegantsQuim from "../../public/gegants-quim.jpg";
import MussoletFina from "../../public/mussolet-fina.jpg";
import ImpressionMussolet from "../../public/impressio-mussolet.jpg";
import IniciPintatMussolet from "../../public/inici-pintat-mussolet.jpg";
import ModelatMussolet1 from "../../public/modelat-mussolet-1.jpg";
import ModelatMussolet2 from "../../public/modelat-mussolet-2.jpg";
import ModelatMussolet3 from "../../public/modelat-mussolet-3.jpg";
import PintatMussolet1 from "../../public/pintat-mussolet-1.jpg";
import PintatMussolet2 from "../../public/pintat-mussolet-2.jpg";
import PintatMussolet3 from "../../public/pintat-mussolet-3.jpg";
import PintatMussolet4 from "../../public/pintat-mussolet-4.jpg";
import PintatMussolet5 from "../../public/pintat-mussolet-5.jpg";

# Mussolet 3D

<Grid container spacing={2}>
  <Grid item xs={12} sm={6}>
    <FullSizeImage image={Mussolet3D} alt="Impressió 3D del Mussolet" />
  </Grid>
  <Grid item xs={12} sm={6}>
    <FullSizeImage image={GegantsQuim} alt="Les figures pintades pel Quim" />
  </Grid>
</Grid>

A principis de 2023 vam començar a estudiar la possibilitat de fer figures dels gegants pels nens i nens del poble.
Alguns nens de la colla tenien figures de goma d'altres pobles, i vam pensar que podríem fer una cosa similar.

Després d'investigar el cost, dificultat, etc. de fer figures de goma, vam aprendre de que era una inversió massa gran
per una colla tan petita com la nostra. Va ser llavors quan vam descobrir la iniciativa de
<Link href="https://www.bestiari.cat/projectes/digitalitzacio-3d-de-figures/" target="_blank">digitalització 3D de
  figures d'imatgeria festiva</Link> de <Link href="https://www.bestiari.cat/" target="_blank">Bestiari.cat</Link> i la
possibilitat de fer models 3D i després imprimir-los amb una impressora 3D.

Tot i que actualment seguim amb l'objectiu de fer models 3D (amb l'ajuda de Bestiari.cat o amb altres iniciatives del
poble), vam decidir fer una primera prova pilot amb el "gegant" més petit de la colla, el Mussolet. A més de ser molt
estimat pels nens i nenes del poble, és una figura més simple d'escanejar, imprimir i pintar, cosa que ens permetia fer
aquesta primera prova de manera més fàcil.

Les principals preguntes que teníem eren:

1. Podem fer un model 3D d'una figura?
2. Podem imprimir aquest model en 3D?
3. Podem pintar-lo nosaltres mateixos, o fins i tot que els nens i nenes els pintin?
4. Si podem fer tot això, ho podem fer de manera que econòmicament sigui viable?

Després d'uns 2 mesos de feina, vam aprendre que la resposta a totes quatre qüestions era positiva pel Mussolet. El
resultat d'aquesta iniciativa és la figura que possiblement teniu a les mans, i que en aquesta pàgina volem compartir
com us ha arribat (i que ho pugueu reproduir en el vostre poble si sou una colla com nosaltres!).

## Creació del model 3D

Com no disposàvem d'eines d'escaneig 3D, vam utilitzar una tècnica coneguda com a
<Link href="https://ca.wikipedia.org/wiki/Fotogrametria" target="_blank">fotogrametria</Link>, i

La primera part va consistir en fer unes 100 fotografies del mussolet. Amb l'aplicació Meshroom vam generar el model
"brut" a partir d'aquestes fotografies (descartant algunes fotografies per fer el model més acurat).

Amb el model "brut" generat amb Meshroom, vam procedir a la neteja i allisat del model amb Blender.

El procés total va ser d'unes 20-25 hores aproximadament, i va ser portat a terme per una sola persona de la colla
(gràcies Rafel!). Va estar repartit de la següent manera:

- 2 hores de processat amb Meshroom
- 10 proves canviant paràmetres i treient fotografies
- 16 hores d'autoformació en Blender
- 8 hores de neteja del model amb Blender

<Grid container spacing={2}>
  <Grid item xs={12} md={12}>
    <Link href="/modelat-mussolet-1.jpg" target="_blank">
      <FullSizeImage image={ModelatMussolet1} alt="Procés de modelat del Mussolet" mb={0} width={800} />
    </Link>
  </Grid>
  <Grid item xs={12} md={6}>
    <Link href="/modelat-mussolet-2.jpg" target="_blank">
      <FullSizeImage image={ModelatMussolet2} alt="Procés de modelat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
  <Grid item xs={12} md={6}>
    <Link href="/modelat-mussolet-3.jpg" target="_blank">
      <FullSizeImage image={ModelatMussolet3} alt="Procés de modelat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
</Grid>

## Impressió de les figures

<EmbeddedImage image={ImpressionMussolet} description="Un Mussolet sent imprès" float="left" position="bottom" />

Vam comprar una impressora 3D (a nivell particular) de filament, en concret una **Creality Ender-3 V2 Neo** (amb un cost
d'uns 300€) i cada bobina d'uns 20-30€ (PLA).

Avui dia aquestes màquines són més fàcils d'utilitzar, i només vam tardar un o dos dies en tenir la impressora
funcionant i imprimint figures.

Imprimir un Mussolet actualment tarda unes 3 hores i mitja, i té un cost aproximat d'1€ (tenint en compte la bobina i
l'electricitat).

<Box sx={{clear: "both"}} />

## Pintat de les figures

Donat que avui dia les impressores 3D estan molt esteses, el pintat de les figures no va ser un problema gaire gran. Amb
pintures acríliques vam poder pintar directament sobre les figures (impresses amb PLA) i només ens va caler aplicar una
capa de vernís per evitar que la pintura anés marxant amb l'ús.

Vam descobrir, però, que intentar ser molt fidedignes amb la figura original era difícil, i calia que una persona adulta
ajudés en el procés. La bona notícia, però, és que cada nen pot pintar el seu Mussolet com vulgui!

## Com pintar el Mussolet

<Alert sx={{mb: 2}}><AlertTitle><strong>Nota: podeu pintar el Mussolet com més us agradi!</strong></AlertTitle>Aquí uns ensenyem com
  el podeu pintar si voleu que sigui igual que el real, però us invitem a deixar que els vostres fills els pintin com
  més els hi agradi.</Alert>

Abans de tot, us avisem de que els detalls petits del Mussolet us resultaran una mica difícils d'aconseguir, degut al
petit tamany de la figura. Us recomanem que tingueu com a mínim dos pinzells: un per les zones més grans, i un el més
petit possible pels detalls.

És important utilitzar **pintures acríliques** per pintar les figures. Aneu amb compte perquè taquen la roba, i no
marxa! En aquest exemple hem utilitzat
<Link href="https://amzn.eu/d/c511Ja7" target="_blank">pintures acríliques Vallejo per modelisme</Link>.

<FullSizeImage image={IniciPintatMussolet} alt="Abans de començar a pintar" />

El pintat en si és força senzill: un cop escollit el color, pinteu la part escollida i deixeu-la assecar. Aneu pintant
a poc a poc tot el Mussolet, sempre deixant prou temps perquè la pintura s'assequi i no barrejar colors. És probable que
necessiteu donar dues o més capes en algunes zones, ja que la pintura pot no quedar del tot ben enganxada.

A continuació us ensenyem un procés visual de com hem pintat un nosaltres:

<Grid container spacing={2}>
  <Grid item xs={12} md={4}>
    <Link href="/pintat-mussolet-1.jpg" target="_blank">
      <FullSizeImage image={PintatMussolet1} alt="Procés de pintat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
  <Grid item xs={12} md={4}>
    <Link href="/pintat-mussolet-2.jpg" target="_blank">
      <FullSizeImage image={PintatMussolet2} alt="Procés de pintat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
  <Grid item xs={12} md={4}>
    <Link href="/pintat-mussolet-3.jpg" target="_blank">
      <FullSizeImage image={PintatMussolet3} alt="Procés de pintat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
  <Grid item xs={12} md={4}>
    <Link href="/pintat-mussolet-4.jpg" target="_blank">
      <FullSizeImage image={PintatMussolet4} alt="Procés de pintat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
  <Grid item xs={12} md={4}>
    <Link href="/pintat-mussolet-5.jpg" target="_blank">
      <FullSizeImage image={PintatMussolet5} alt="Procés de pintat del Mussolet" mb={0} width={300} />
    </Link>
  </Grid>
</Grid>

## Galeria de Mussolets. Envia el teu!

<Alert sx={{mb: 2}}>
  <strong>Us convidem a enviar-nos una fotografia del vostre Mussolet pintat!</strong> La penjarem encantats aquí amb
  la resta de figures, ens encanta veure com pinteu les vostres figures!
</Alert>

<Grid container spacing={2}>
  <Grid item xs={12}>
    <ImageListItem sx={{"& img": {display: "block", height: "auto"}}}>
      <Image src={GegantsQuim} alt="Les figures pintades pel Quim" />
      <ImageListItemBar title="Les figures pintades pel Quim" position="bottom" />
    </ImageListItem>
  </Grid>
  <Grid item xs={12}>
    <ImageListItem sx={{"& img": {display: "block", height: "auto"}}}>
      <Image src={MussoletFina} alt="El Mussolet pintat per la Fina" />
      <ImageListItemBar title="El Mussolet pintat per la Fina" position="bottom" />
    </ImageListItem>
  </Grid>
</Grid>

## Com aconseguir un Mussolet

Les primeres versions del Mussolet només les vam repartir entre els nens i nenes de la colla. La primera vegada que van
sortir fora va ser el 3 de Juny de 2023, quan vam donar Mussolets com a obsequi a les colles participants a la
<Link component={NextLink} href="/calendari/2023/trobada">XXXII Trobada de gegants de la Garriga</Link>.

En aquests moments no tenim en marxa cap altra iniciativa (potser per la Festa Major?), però ens podeu contactar
directament (a través de les formes de contacte de la web, les xarxes socials o en persona) i us farem arribar un!

export default function Layout({children}) {
  return <RacoGeganter
    title={racoGeganterPages.find(page => page.route === "/mussolet-3d").name}
    selectedRoute={racoGeganterPages.find(page => page.route === "/mussolet-3d").route}>{children}</RacoGeganter>;
}
